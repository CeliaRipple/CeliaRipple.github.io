<head><meta charset="utf-8" /><script src=https://cdn.plot.ly/plotly-1.34.0.min.js></script></head><div id="41fa499f-f6d3-49cf-b487-9b6d27c095c6" style="height: 100%; width: 100%;" class="plotly-graph-div"></div><script type="text/javascript">window.PLOTLYENV=window.PLOTLYENV || {};window.PLOTLYENV.BASE_URL="https://plot.ly";Plotly.newPlot("41fa499f-f6d3-49cf-b487-9b6d27c095c6", [{"customdata": ["CBDdir"], "hoverinfo": "all", "ids": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105], "line": {"dash": "solid", "width": 1}, "marker": {"color": "rgb(142, 186, 217)", "colorbar": {"len": 0.8}, "colorscale": "Greys", "line": {"color": "rgb(31, 119, 180)", "width": 1}, "reversescale": false, "showscale": false, "size": 10, "symbol": 0}, "mode": "markers", "name": "CBDdir - ACS_17_5YR_B25064_with_ann_HD01_VD01", "opacity": 1.0, "text": [], "x": [308.7121477012567, 303.26863079946173, 240.58662370610824, 348.84950096498176, 8.727882139092815, 2.9997047834663784, 358.5056351906608, 214.19621571905813, 222.61249742049327, 205.20733719856014, 350.84364127914426, 195.30172229182324, 200.2801627340588, 3.701636957997005, 22.70819012691413, 358.8132278806164, 331.9314454378847, 9.904211828061243, 271.3871993926826, 177.2969418018255, 233.57405257287922, 210.41921500056816, 352.2489873429589, 176.49673778786683, 261.2421695417358, 226.85660035774995, 235.02229936374377, 6.827306736096942, 338.3041818606147, 324.7478494660174, 223.1888200265367, 327.8060163112795, 10.442610592501158, 335.5853189410646, 243.0857436131382, 186.8142566666976, 320.6230990808708, 27.797962898076207, 342.2705310361564, 319.925431918743, 309.83309192776056, 215.5388950556184, 237.3505541666605, 250.30661223962542, 148.23244479350808, 189.38155062752213, 199.66232425402987, 151.9632300701106, 5.573720882599775, 18.36320746026143, 358.46242295183964, 353.968341527948, 333.35609323369584, 6.081634595750835, 21.409876168006274, 344.76348206152056, 335.3098541147223, 315.51431073701156, 311.13064641194643, 290.55250322475126, 23.163013922780866, 12.752586658539936, 206.86406139578304, 212.83367223943156, 177.96622660947284, 162.10655619432916, 253.79511845186306, 339.2186180761814, 329.4857981706655, 329.2703151021885, 355.9611847973899, 13.124160782334297, 208.10239923128998, 178.23807070772136, 166.5506469366823, 191.05185217039084, 298.96020875928, 356.6554784601122, 314.15318741803907, 15.004251751702329, 339.4648893052095, 205.12313841684036, 228.9939743204604, 281.8492378252703, 353.75740916513774, 256.5040399848834, 17.01509042907565, 322.9365603263601, 313.75839684996083, 147.27483743217337, 22.109582938288618, 270.93436027602786, 154.15097038146774, 175.55615754119407, 291.4774353561332, 218.6409287349874, 25.26965174427146, 306.179680064048, 161.63402585474006, 341.128642335972, 270.60088924027383, 153.07977786255356, 217.98041559834863, 299.05061998388237, 328.4290523180205], "y": ["800", "586", "773", "773", "825", "813", "848", "756", "744", "1078", "671", "738", "771", "871", "1353", "628", "944", "846", "715", "891", "967", "771", "775", "861", "779", "794", "713", "798", "491", "502", "682", "741", "856", "1359", "667", "901", "914", "-", "372", "613", "675", "734", "722", "735", "920", "883", "847", "946", "866", "793", "942", "1233", "750", "841", "1669", "800", "855", "566", "676", "707", "1093", "714", "753", "757", "909", "945", "778", "827", "718", "875", "847", "1133", "839", "864", "851", "759", "594", "1468", "676", "1109", "821", "760", "736", "511", "1627", "740", "872", "828", "892", "716", "880", "726", "860", "973", "624", "1025", "963", "677", "765", "779", "641", "1035", "787", "629", "835"], "type": "scatter", "uid": "2b890506-df47-11e9-ba7c-e4b97af7ae0f"}], {"legend": {"orientation": "v"}, "showlegend": true, "title": "", "xaxis": {"autorange": true, "rangeslider": {"borderwidth": 1, "visible": false}, "title": "CBDdir", "type": "linear"}, "yaxis": {"autorange": true, "title": "ACS_17_5YR_B25064_with_ann_HD01_VD01"}}, {"editable": true, "scrollZoom": true, "showLink": false, "linkText": "Export to plot.ly"})</script>

        <script>
        // additional js function to select and click on the data
        // returns the ids of the selected/clicked feature

        var plotly_div = document.getElementById('55b79ae8-4e4b-4874-ad73-3ec046780597')
        var plotly_data = plotly_div.data

        // selecting function
        plotly_div.on('plotly_selected', function(data){
        var dds = {};
        dds["mode"] = 'selection'
        dds["type"] = data.points[0].data.type

        featureIds = [];
        featureIdsTernary = [];

        data.points.forEach(function(pt){
        featureIds.push(parseInt(pt.id))
        featureIdsTernary.push(parseInt(pt.pointNumber))
        dds["id"] = featureIds
        dds["tid"] = featureIdsTernary
            })
        //console.log(dds)
        window.status = JSON.stringify(dds)
        })

        // clicking function
        plotly_div.on('plotly_click', function(data){
        var featureIds = [];
        var dd = {};
        dd["fidd"] = data.points[0].id
        dd["mode"] = 'clicking'

        // loop and create dictionary depending on plot type
        for(var i=0; i < data.points.length; i++){

        // scatter plot
        if(data.points[i].data.type == 'scatter'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type

            data.points.forEach(function(pt){
            dd["fid"] = pt.id
            })
        }

        // pie

        else if(data.points[i].data.type == 'pie'){
          dd["type"] = data.points[i].data.type
          dd["label"] = data.points[i].label
          dd["field"] = data.points[i].data.name
          console.log(data.points[i].label)
          console.log(data.points[i])
        }

        // histogram
        else if(data.points[i].data.type == 'histogram'){
            dd["type"] = data.points[i].data.type
            dd["uid"] = data.points[i].data.uid
            dd["field"] = data.points[i].data.name

            // correct axis orientation
            if(data.points[i].data.orientation == 'v'){
                dd["id"] = data.points[i].x
                dd["bin_step"] = data.points[i].data.xbins.size
            }
            else {
                dd["id"] = data.points[i].y
                dd["bin_step"] = data.points[i].data.ybins.size
            }
        }

        // box plot
        else if(data.points[i].data.type == 'box'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // violin plot
        else if(data.points[i].data.type == 'violin'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation (for violin is viceversa)
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // bar plot
        else if(data.points[i].data.type == 'bar'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // ternary
        else if(data.points[i].data.type == 'scatterternary'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata
            dd["fid"] = data.points[i].pointNumber
            }

            }
        window.status = JSON.stringify(dd)
        });
        </script>